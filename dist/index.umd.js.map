{"version":3,"file":"index.umd.js","sources":["../src/index.ts"],"sourcesContent":["const reactModule = require(\"react\");\n\nexport type ExtensionFunction = (\n  tagName: string,\n  props: { [key: string]: any }\n) => { [key: string]: any };\n\nexport const extensionContext: React.Context<ExtensionFunction> = reactModule.createContext();\n\nconst reactCreateElement = reactModule.createElement;\n\nconst cache: { [key: string]: React.FunctionComponent } = {};\nfunction _extendTag(tagName: string): React.FunctionComponent {\n  const Component = reactModule.forwardRef(\n    (props: { [key: string]: any }, ref: unknown) => {\n      const extender = reactModule.useContext(extensionContext);\n      const newProps =\n        typeof extender === \"function\" ? extender(tagName, props) : props;\n      return reactCreateElement(tagName, { ...newProps, ref });\n    }\n  );\n  if (process.env.NODE_ENV !== \"production\") {\n    Component.displayName = tagName;\n  }\n  return Component;\n}\n\nfunction extendTag(tagName: string): React.FunctionComponent {\n  return cache[tagName] || (cache[tagName] = _extendTag(tagName));\n}\n\nreactModule.createElement = function extendedCreateElement(\n  tag: any,\n  props: any,\n  ...children: any\n) {\n  const newTag = typeof tag === \"string\" ? extendTag(tag) : tag;\n  return reactCreateElement(newTag, props, ...children);\n};\n\nexport const ExtensionProvider = extensionContext.Provider;\n"],"names":["const","reactModule","require","extensionContext","createContext","reactCreateElement","createElement","cache","tag","props","tagName","newTag","Component","forwardRef","ref","extender","useContext","newProps","Object","process","env","NODE_ENV","displayName","_extendTag","children","ExtensionProvider","Provider"],"mappings":"oLAAAA,IAAMC,EAAcC,QAAQ,SAOfC,EAAqDF,EAAYG,gBAExEC,EAAqBJ,EAAYK,cAEjCC,EAAoD,GAoB1DN,EAAYK,cAAgB,SAC1BE,EACAC,qEANiBC,EASXC,EAAwB,iBAARH,EARfD,EADUG,EASkCF,KARzBD,EAAMG,GAhBlC,SAAoBA,OACZE,EAAYX,EAAYY,oBAC3BJ,EAA+BK,OACxBC,EAAWd,EAAYe,WAAWb,GAClCc,EACgB,mBAAbF,EAA0BA,EAASL,EAASD,GAASA,SACvDJ,EAAmBK,EAASQ,iBAAKD,OAAUH,aAGzB,eAAzBK,QAAQC,IAAIC,WACdT,EAAUU,YAAcZ,GAEnBE,EAIoCW,CAAWb,IAQIF,SACnDH,gBAAmBM,EAAQF,UAAUe,SAGjCC,EAAoBtB,EAAiBuB"}