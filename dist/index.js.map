{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["let reactModule: any;\nif (process.env.NODE_ENV === \"production\") {\n  reactModule = require(\"react/cjs/react.production.min.js\");\n} else {\n  reactModule = require(\"react/cjs/react.development.js\");\n}\n\nexport type ExtensionFunction = (\n  tagName: string,\n  props: { [key: string]: any }\n) => { [key: string]: any };\n\nexport const extensionContext: React.Context<ExtensionFunction> = reactModule.createContext();\n\nexport const originalCreateElement = reactModule.createElement;\n\nconst cache: { [key: string]: React.FunctionComponent } = {};\nfunction _extendTag(tagName: string): React.FunctionComponent {\n  const Component = reactModule.forwardRef(\n    (props: { [key: string]: any }, ref: unknown) => {\n      const extender = reactModule.useContext(extensionContext);\n      const newProps =\n        typeof extender === \"function\" ? extender(tagName, props) : props;\n      return originalCreateElement(tagName, { ...newProps, ref });\n    }\n  );\n  if (process.env.NODE_ENV !== \"production\") {\n    Component.displayName = tagName;\n  }\n  return Component;\n}\n\nfunction extendTag(tagName: string): React.FunctionComponent {\n  return cache[tagName] || (cache[tagName] = _extendTag(tagName));\n}\n\nexport function extendedCreateElement(tag: any, props: any, ...children: any) {\n  const newTag = typeof tag === \"string\" ? extendTag(tag) : tag;\n  return originalCreateElement(newTag, props, ...children);\n}\n\nreactModule.createElement = extendedCreateElement;\n\nexport const ExtensionProvider = extensionContext.Provider;\n"],"names":["let","reactModule","extensionContext","process","env","NODE_ENV","require","createContext","originalCreateElement","createElement","cache","extendedCreateElement","tag","props","tagName","newTag","Component","forwardRef","ref","extender","useContext","newProps","Object","displayName","_extendTag","children","ExtensionProvider","Provider"],"mappings":"AAAAA,IAAIC,EAYSC,GAVXD,EAD2B,eAAzBE,QAAQC,IAAIC,SACAC,QAAQ,qCAERA,QAAQ,mCAQsDC,gBAEjEC,EAAwBP,EAAYQ,cAE3CC,EAAoD,YAoB1CC,EAAsBC,EAAUC,qEAJ7BC,EAKXC,EAAwB,iBAARH,EAJfF,EADUI,EAKkCF,KAJzBF,EAAMI,GAhBlC,SAAoBA,OACZE,EAAYf,EAAYgB,oBAC3BJ,EAA+BK,OACxBC,EAAWlB,EAAYmB,WAAWlB,GAClCmB,EACgB,mBAAbF,EAA0BA,EAASL,EAASD,GAASA,SACvDL,EAAsBM,EAASQ,iBAAKD,OAAUH,aAG5B,eAAzBf,QAAQC,IAAIC,WACdW,EAAUO,YAAcT,GAEnBE,EAIoCQ,CAAWV,IAIIF,SACnDJ,gBAAsBO,EAAQF,UAAUY,IAGjDxB,EAAYQ,cAAgBE,MAEfe,EAAoBxB,EAAiByB"}