{"version":3,"file":"index.module.js","sources":["../src/index.ts"],"sourcesContent":["const reactModule = require(\"react\");\n\nexport const extensionContext = reactModule.createContext();\n\nconst reactCreateElement = reactModule.createElement;\n\nconst cache: { [key: string]: React.FunctionComponent } = {};\nfunction _extendTag(tagName: string): React.FunctionComponent {\n  const Component = reactModule.forwardRef((props: unknown, ref: unknown) => {\n    const extender = reactModule.useContext(extensionContext);\n    const newProps = typeof extender === \"function\" ? extender(props) : props;\n    return reactCreateElement(tagName, { ...newProps, ref });\n  });\n  if (process.env.NODE_ENV !== \"production\") {\n    Component.displayName = tagName;\n  }\n  return Component;\n}\n\nfunction extendTag(tagName: string): React.FunctionComponent {\n  return cache[tagName] || (cache[tagName] = _extendTag(tagName));\n}\n\nreactModule.createElement = function extendedCreateElement(\n  tag: any,\n  props: any,\n  ...children: any\n) {\n  const newTag = typeof tag === \"string\" ? extendTag(tag) : tag;\n  return reactCreateElement(newTag, props, ...children);\n};\n\nexport const ExtensionProvider = extensionContext.Provider;\n"],"names":["const","reactModule","require","extensionContext","createContext","reactCreateElement","createElement","cache","tag","props","tagName","newTag","Component","forwardRef","ref","extender","useContext","newProps","Object","process","env","NODE_ENV","displayName","_extendTag","children","ExtensionProvider","Provider"],"mappings":"AAAAA,IAAMC,EAAcC,QAAQ,SAEfC,EAAmBF,EAAYG,gBAEtCC,EAAqBJ,EAAYK,cAEjCC,EAAoD,GAiB1DN,EAAYK,cAAgB,SAC1BE,EACAC,qEANiBC,EASXC,EAAwB,iBAARH,EARfD,EADUG,EASkCF,KARzBD,EAAMG,GAblC,SAAoBA,OACZE,EAAYX,EAAYY,oBAAYJ,EAAgBK,OAClDC,EAAWd,EAAYe,WAAWb,GAClCc,EAA+B,mBAAbF,EAA0BA,EAASN,GAASA,SAC7DJ,EAAmBK,EAASQ,iBAAKD,OAAUH,aAEvB,eAAzBK,QAAQC,IAAIC,WACdT,EAAUU,YAAcZ,GAEnBE,EAIoCW,CAAWb,IAQIF,SACnDH,gBAAmBM,EAAQF,UAAUe,SAGjCC,EAAoBtB,EAAiBuB"}